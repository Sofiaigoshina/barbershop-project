from client import Client


def test_static_methods():
    """–¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏."""
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤:")

    # –¢–µ—Å—Ç –≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    try:
        Client.validate_client_id(1)
        Client.validate_name("–ò–≤–∞–Ω–æ–≤", "–§–∞–º–∏–ª–∏—è")
        Client.validate_email("test@mail.ru")
        print("   ‚úÖ –í–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É")
    except Exception as e:
        print(f"   ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")

    # –¢–µ—Å—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    try:
        Client.validate_client_id(0)
        print("   ‚ùå –û–®–ò–ë–ö–ê: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π ID –ø—Ä–æ—à–µ–ª –ø—Ä–æ–≤–µ—Ä–∫—É!")
    except ValueError as e:
        print(f"   ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç ID=0: {e}")

    try:
        Client.validate_name("", "–§–∞–º–∏–ª–∏—è")
        print("   ‚ùå –û–®–ò–ë–ö–ê: –ü—É—Å—Ç–∞—è —Ñ–∞–º–∏–ª–∏—è –ø—Ä–æ—à–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫—É!")
    except ValueError as e:
        print(f"   ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç–æ–π —Ñ–∞–º–∏–ª–∏–∏: {e}")


def test_object_creation_validation():
    """–¢–µ—Å—Ç, —á—Ç–æ –æ–±—ä–µ–∫—Ç —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å."""
    print("\nüß™ –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤:")

    # –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
    try:
        client = Client(1, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", email="valid@mail.ru")
        print("   ‚úÖ –û–±—ä–µ–∫—Ç —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ")
    except ValueError as e:
        print(f"   ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")

    # –ù–µ—É—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (–æ–±—ä–µ–∫—Ç –ù–ï –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è)
    try:
        client = Client(0, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω")  # –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π ID
        print("   ‚ùå –û–®–ò–ë–ö–ê: –û–±—ä–µ–∫—Ç —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º ID —Å–æ–∑–¥–∞–ª—Å—è!")
    except ValueError as e:
        print(f"   ‚úÖ –û–±—ä–µ–∫—Ç —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º ID –ù–ï —Å–æ–∑–¥–∞–Ω: {e}")

    try:
        client = Client(1, "", "–ò–≤–∞–Ω")  # –ü—É—Å—Ç–∞—è —Ñ–∞–º–∏–ª–∏—è
        print("   ‚ùå –û–®–ò–ë–ö–ê: –û–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç–æ–π —Ñ–∞–º–∏–ª–∏–µ–π —Å–æ–∑–¥–∞–ª—Å—è!")
    except ValueError as e:
        print(f"   ‚úÖ –û–±—ä–µ–∫—Ç —Å –ø—É—Å—Ç–æ–π —Ñ–∞–º–∏–ª–∏–µ–π –ù–ï —Å–æ–∑–¥–∞–Ω: {e}")

    try:
        client = Client(1, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", email="invalid")  # –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email
        print("   ‚ùå –û–®–ò–ë–ö–ê: –û–±—ä–µ–∫—Ç —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º email —Å–æ–∑–¥–∞–ª—Å—è!")
    except ValueError as e:
        print(f"   ‚úÖ –û–±—ä–µ–∫—Ç —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º email –ù–ï —Å–æ–∑–¥–∞–Ω: {e}")


def test_immutability():
    """–¢–µ—Å—Ç, —á—Ç–æ –ø–æ–ª—è –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è."""
    print("\nüß™ –¢–µ—Å—Ç –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏ –ø–æ–ª–µ–π:")
    client = Client(1, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω")

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª—è
    try:
        client.client_id = 5  # –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å ID
        print("   ‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª–µ client_id –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å!")
    except AttributeError as e:
        print(f"   ‚úÖ –ü–æ–ª–µ client_id –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π")
    except Exception as e:
        print(f"   ‚úÖ –ü–æ–ª–µ client_id –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π: {type(e).__name__}")

    try:
        client.last_name = "–ü–µ—Ç—Ä–æ–≤"  # –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∞–º–∏–ª–∏—é
        print("   ‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª–µ last_name –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å!")
    except AttributeError as e:
        print(f"   ‚úÖ –ü–æ–ª–µ last_name –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π")
    except Exception as e:
        print(f"   ‚úÖ –ü–æ–ª–µ last_name –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π: {type(e).__name__}")

    try:
        client.email = "new@mail.ru"  # –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å email
        print("   ‚ùå –û–®–ò–ë–ö–ê: –ü–æ–ª–µ email –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å!")
    except AttributeError as e:
        print(f"   ‚úÖ –ü–æ–ª–µ email –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π")
    except Exception as e:
        print(f"   ‚úÖ –ü–æ–ª–µ email –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π: {type(e).__name__}")

    print("   ‚úÖ –í—Å–µ –ø–æ–ª—è –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è")


def test_properties_still_work():
    """–¢–µ—Å—Ç, —á—Ç–æ –≥–µ—Ç—Ç–µ—Ä—ã –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞—é—Ç."""
    print("\nüß™ –¢–µ—Å—Ç —Ä–∞–±–æ—Ç—ã –≥–µ—Ç—Ç–µ—Ä–æ–≤:")
    client = Client(1, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", "–ò–≤–∞–Ω–æ–≤–∏—á", "+79161234567", "ivan@mail.ru")

    print(f"   ‚úÖ ID: {client.client_id}")
    print(f"   ‚úÖ –§–ò–û: {client.last_name} {client.first_name} {client.patronymic}")
    print(f"   ‚úÖ –¢–µ–ª–µ—Ñ–æ–Ω: {client.phone}")
    print(f"   ‚úÖ Email: {client.email}")
    print(f"   ‚úÖ –û–±—ä–µ–∫—Ç: {client}")


if __name__ == "__main__":
    print("üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è 4 - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏")
    print("=" * 60)
    test_static_methods()
    test_object_creation_validation()
    test_immutability()
    test_properties_still_work()
    print("=" * 60)
    print("üéâ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")