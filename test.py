from client import Client


def test_refactored_validation_methods():
    """–¢–µ—Å—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞."""
    print("üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:")

    # –¢–µ—Å—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–ª—è —á–∏—Å–µ–ª
    try:
        Client._validate_positive_int(5, "–í–æ–∑—Ä–∞—Å—Ç")
        print("   ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç")
    except Exception as e:
        print(f"   ‚ùå –û—à–∏–±–∫–∞: {e}")

    # –¢–µ—Å—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫
    try:
        Client._validate_required_string("–¢–µ—Å—Ç", "–ü–æ–ª–µ", min_length=2)
        print("   ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç")
    except Exception as e:
        print(f"   ‚ùå –û—à–∏–±–∫–∞: {e}")

    # –¢–µ—Å—Ç —Å —Ä–∞–∑–Ω–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω–æ–π
    try:
        Client._validate_required_string("–ê", "–ö–æ—Ä–æ—Ç–∫–æ–µ –ø–æ–ª–µ", min_length=1)
        print("   ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å min_length=1")
    except Exception as e:
        print(f"   ‚ùå –û—à–∏–±–∫–∞: {e}")

    try:
        Client._validate_required_string("–ê", "–ö–æ—Ä–æ—Ç–∫–æ–µ –ø–æ–ª–µ", min_length=3)
        print("   ‚ùå –û–®–ò–ë–ö–ê: –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ—à–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫—É!")
    except ValueError as e:
        print(f"   ‚úÖ –ö–æ—Ä–æ—Ç–∫–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞: {e}")


def test_client_creation_still_works():
    """–¢–µ—Å—Ç, —á—Ç–æ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç."""
    print("\nüß™ –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:")

    # –í—Å–µ —Ç–µ –∂–µ —Å–ª—É—á–∞–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å
    test_cases = [
        (1, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω"),
        (2, "–ü–µ—Ç—Ä–æ–≤–∞", "–ú–∞—Ä–∏—è", "–°–µ—Ä–≥–µ–µ–≤–Ω–∞"),
        (3, "–°–∏–¥–æ—Ä–æ–≤", "–ê–ª–µ–∫—Å–µ–π", None, "+79161234567", "test@mail.ru")
    ]

    for i, case in enumerate(test_cases, 1):
        try:
            client = Client(*case)
            print(f"   ‚úÖ –¢–µ—Å—Ç {i}: –ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω - {client}")
        except Exception as e:
            print(f"   ‚ùå –¢–µ—Å—Ç {i}: –û—à–∏–±–∫–∞ - {e}")


def test_validation_failures():
    """–¢–µ—Å—Ç, —á—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ –µ—â–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ."""
    print("\nüß™ –¢–µ—Å—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:")

    invalid_cases = [
        (0, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", "ID=0"),
        (1, "", "–ò–≤–∞–Ω", "–ü—É—Å—Ç–∞—è —Ñ–∞–º–∏–ª–∏—è"),
        (1, "–ò", "–ò–≤–∞–Ω", "–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∞—è —Ñ–∞–º–∏–ª–∏—è"),
        (1, "–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", None, None, "invalid-email", "–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email")
    ]

    for case in invalid_cases:
        try:
            client = Client(*case[:-1])  # –í—Å–µ –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (–æ–ø–∏—Å–∞–Ω–∏–µ)
            print(f"   ‚ùå –û–®–ò–ë–ö–ê: {case[-1]} –ø—Ä–æ—à–µ–ª –ø—Ä–æ–≤–µ—Ä–∫—É!")
        except ValueError as e:
            print(f"   ‚úÖ {case[-1]} –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω")


def compare_code_improvement():
    """–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞."""
    print("\nüìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:")
    print("   –î–û: 5 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º")
    print("   –ü–û–°–õ–ï: 4 —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–∞ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è")
    print("   ‚úÖ –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö")
    print("   ‚úÖ –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫")
    print("   ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º")


if __name__ == "__main__":
    print("üöÄ –ó–∞–¥–∞–Ω–∏–µ 5 - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –£–±—Ä–∞—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫–æ–¥")
    print("=" * 65)
    test_refactored_validation_methods()
    test_client_creation_still_works()
    test_validation_failures()
    compare_code_improvement()
    print("=" * 65)
    print("üéâ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!")